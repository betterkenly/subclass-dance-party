<!DOCTYPE html>
<html>
  <head>
    <title>Object Dance Party</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script src="lib/jquery.js"></script>
    <script src="src/dancer.js"></script>
    <script src="src/blinkyDancer.js"></script>
    <script src="src/swingDancer.js"></script>
    <script src="src/stretchDancer.js"></script>
    <script src="src/orbitDancer.js"></script>
    <script src="src/tangoDancer.js"></script>

    <script src="src/runnyDancer.js"></script>
  </head>
  <body>
    <div class="topbar">
      <span class="title">object dance party</span>
      <a href="#" class="addDancerButton" data-dancer-maker-function-name="BlinkyDancer">blinky</a>    
      <a href="#" class="addDancerButton" data-dancer-maker-function-name="SwingDancer">swing</a>
      <a href="#" class="addDancerButton" data-dancer-maker-function-name="StretchDancer">stretch</a>
      <a href="#" class="addDancerButton" data-dancer-maker-function-name="TangoDancer">tango</a>
      <a href="#" class="addDancerButton" data-dancer-maker-function-name="OrbitDancer">orbit</a>
      <a href="#" class="addDancerButton" data-dancer-maker-function-name="RunnyDancer">runny</a>        


    </div>
    <script src="src/init.js"></script>
    <script>
      $(document).ready(function(){
        $('body').on('click','.dancer',function(e){
          $(this).fadeOut('slow',function(){
            $(this).remove();
          });
        })
        $('body').on('mouseenter','.dancer',function(){
          $(this).animate({width: '-=50px', height: '-=50px'},'fast')
        }).on('mouseleave','.dancer',function(){
          $(this).animate({width: '+=50px', height: '+=50px'},'fast')
        }).on('keydown',function(e){
          console.log(e.keyCode);
          if(e.keyCode === 37){
            for(var i=0; i<dancers.length; i++){
              if(!(dancers[i] instanceof OrbitDancer)){
                dancers[i].$node.animate({left:'-=250px'});
                dancers[i].$node.animate({left:'+=230px'},'slow');
                dancers[i].$node.animate({left:'-=20px'},'slow'); 
              }
            }
          } else if(e.keyCode === 39){
            for(var i=0; i<dancers.length; i++){
              if(!(dancers[i] instanceof OrbitDancer)){
                dancers[i].$node.animate({left:'+=250px'});
                dancers[i].$node.animate({left:'-=230px'},'slow');
                dancers[i].$node.animate({left:'+=20px'},'slow'); 
              }
            }
          } else if(e.keyCode === 38){
            for(var i=0; i<dancers.length; i++){
              if(!(dancers[i] instanceof OrbitDancer)){
                dancers[i].$node.animate({top:'-=250px'});
                dancers[i].$node.animate({top:'+=230px'},'slow');
                dancers[i].$node.animate({top:'-=20px'},'slow'); 
              }
            }
          } else if(e.keyCode === 40){
            for(var i=0; i<dancers.length; i++){
              if(!(dancers[i] instanceof OrbitDancer)){
                dancers[i].$node.animate({top:'+=250px'});
                dancers[i].$node.animate({top:'-=230px'},'slow');
                dancers[i].$node.animate({top:'+=20px'},'slow'); 
              }
            }
          }
        })
      });
    </script>
  </body>
</html>
